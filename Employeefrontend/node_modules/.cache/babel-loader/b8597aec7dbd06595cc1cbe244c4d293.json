{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\"; //register action\n\nexport const registerManager = createAsyncThunk('manager/register', async (user, _ref) => {\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref;\n\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await axios.post('http://localhost:8080/api/manager/signup', user, config);\n    return data;\n  } catch (error) {\n    if (!(error !== null && error !== void 0 && error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error === null || error === void 0 ? void 0 : error.response.data);\n  }\n}); //login action\n\nexport const loginManager = createAsyncThunk('manager/login', async (userCredentials, _ref2) => {\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref2;\n\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await axios.post('http://localhost:8080/api/manager/login', userCredentials, config);\n    return data;\n  } catch (error) {\n    if (!(error !== null && error !== void 0 && error.response)) {\n      throw error;\n    }\n\n    return rejectWithValue(error === null || error === void 0 ? void 0 : error.response.data);\n  }\n}); //manager slices\n\nconst managerSlices = createSlice({\n  name: 'user',\n  initialState: {\n    userAuth: 'login'\n  },\n  extraReducers: builder => {\n    //register\n    builder.addCase(registerManager.pending, (state, action) => {\n      state.loading = true;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(registerManager.fulfilled, (state, action) => {\n      state.loading = false;\n      state.registered = action === null || action === void 0 ? void 0 : action.payload;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(registerManager.rejected, (state, action) => {\n      var _action$payload, _action$error;\n\n      state.loading = false;\n      console.log(action === null || action === void 0 ? void 0 : action.payload);\n      state.appErr = action === null || action === void 0 ? void 0 : (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.message;\n      state.serverErr = action === null || action === void 0 ? void 0 : (_action$error = action.error) === null || _action$error === void 0 ? void 0 : _action$error.message;\n    });\n  }\n});\nexport default managerSlices.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","registerManager","user","rejectWithValue","getState","dispatch","config","headers","data","post","error","response","loginManager","userCredentials","managerSlices","name","initialState","userAuth","extraReducers","builder","addCase","pending","state","action","loading","appErr","undefined","serverErr","fulfilled","registered","payload","rejected","console","log","message","reducer"],"sources":["C:/Users/MR . Noobick/Desktop/frontend/src/redux/slices/managerSlices.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport axios from \"axios\";\r\n//register action\r\n\r\nexport const registerManager=createAsyncThunk('manager/register',async(user,{rejectWithValue,getState,dispatch})=>{\r\n\r\ntry {\r\n    const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n    const {data} =await axios.post('http://localhost:8080/api/manager/signup',user,config);\r\n    return data;\r\n} catch (error) {\r\n   if(!error?.response ){\r\n    throw error;\r\n   } \r\n   return rejectWithValue(error?.response.data);\r\n}\r\n});\r\n//login action\r\n\r\nexport const loginManager=createAsyncThunk('manager/login',async(userCredentials,{rejectWithValue,getState,dispatch})=>{\r\n\r\n    try {\r\n        const config = {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          };\r\n        const {data} =await axios.post('http://localhost:8080/api/manager/login',userCredentials,config);\r\n        return data;\r\n    } catch (error) {\r\n       if(!error?.response ){\r\n        throw error;\r\n       } \r\n       return rejectWithValue(error?.response.data);\r\n    }\r\n    });\r\n\r\n\r\n//manager slices\r\n\r\nconst managerSlices=createSlice({name:'user',initialState:{userAuth:'login'},\r\n\r\nextraReducers:(builder)=>{\r\n    //register\r\n    builder.addCase(registerManager.pending,(state,action)=>{\r\n        state.loading = true;\r\n        state.appErr=undefined;\r\n        state.serverErr=undefined;\r\n    });\r\n    builder.addCase(registerManager.fulfilled,(state,action)=>{\r\n        state.loading = false;\r\n        state.registered=action?.payload;\r\n        state.appErr=undefined;\r\n        state.serverErr=undefined;\r\n    });\r\n    builder.addCase(registerManager.rejected,(state,action)=>{\r\n        state.loading = false;\r\n        console.log(action?.payload);\r\n        state.appErr=action?.payload?.message;\r\n        state.serverErr=action?.error?.message;\r\n  });\r\n}\r\n});\r\nexport default managerSlices.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}